---
import BaseLayout from '@layouts/BaseLayout.astro';
import Section from '@components/Section.astro';
import { getCollection } from 'astro:content';
const resources = await getCollection('resources');
---
<BaseLayout title="Tools & Resources â€” SPARQ Team">
  <Section id="tools" title="Tools & platforms" subtitle="Link to docs, repos, or hosted apps.">
    <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
      {resources.map(r => (
        <div class="rounded-2xl border border-neutral-200 bg-white p-6 shadow-sm hover:shadow-md transition-shadow">
          <h3 class="font-semibold">{r.data.title}</h3>
          <p class="mt-2 text-sm text-neutral-700">{r.data.oneLine}</p>
          {r.data.summary && <p class="mt-2 text-sm text-neutral-700">{r.data.summary}</p>}
          {r.data.links?.length > 0 && (
            <ul class="list-disc pl-5 mt-2">
              {r.data.links.map(l => (<li><a class="text-blue-700" href={l.url}>{l.label}</a></li>))}
            </ul>
          )}
          {r.data.files?.length > 0 && (
            <>
              <div class="font-medium mt-3">Downloads</div>
              <ul class="list-disc pl-5">
                {r.data.files.map(f => (<li><a class="text-blue-700" href={f.file} download>{f.label}</a></li>))}
              </ul>
            </>
          )}
          {r.data.citation && <div class="text-xs text-neutral-500 mt-2">{r.data.citation}</div>}
        </div>
      ))}
    </div>
  </Section>
</BaseLayout>
