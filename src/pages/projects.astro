---
import BaseLayout from '@layouts/BaseLayout.astro';
import Section from '@components/Section.astro';
import { getCollection } from 'astro:content';
const projects = await getCollection('projects');
---
<BaseLayout title="Projects â€” SPARQ Team">
  <Section id="projects-page" title="Projects" subtitle="Curate by sector, client, or tag.">
    <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
      {projects.map(p => {
        const img = p.data.tileImage || p.data.heroImage;
        return (
        <a href={`/projects/${p.slug}`} class="rounded-2xl border border-neutral-200 bg-white shadow-sm hover:shadow-md transition-shadow block overflow-hidden">
          {img && <img src={img} alt={p.data.tileImageAlt || p.data.title} class="h-40 w-full object-cover" loading="lazy" />}
          <div class="p-6">
            <h3 class="font-semibold">{p.data.title}</h3>
            <p class="mt-2 text-sm text-neutral-700">{p.data.shortDescription}</p>
          </div>
        </a>
      )})}
    </div>
  </Section>
</BaseLayout>
